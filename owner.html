<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Owner Panel ‚Äî Tamagotchi</title>
  <style>
    body{background:#0b1220;color:#fff;font-family:sans-serif;text-align:center}
    .panel{background:#101a2b;padding:15px;margin:15px auto;width:90%;max-width:500px;border-radius:8px}
    input,button{padding:8px;margin:4px;border-radius:6px;border:none;font-size:1em}
    button{background:#10b981;color:#fff;cursor:pointer}
  </style>
</head>
<body>
<script>
  (function(){
    const cur = localStorage.getItem('currentPlayer');
    if(!cur){ alert('Silakan login'); location.href='login.html'; return }
    const players = JSON.parse(localStorage.getItem('players')||'{}');
    if(cur !== 'owner'){ alert('Hanya owner yang bisa akses'); location.href='index.html'; return }
  })();
</script>

<h2>üîê Owner Panel</h2>
<div class="panel">
  <h3>Top-up Coin</h3>
  <input id="topupUser" placeholder="User target">
  <input id="topupAmt" type="number" placeholder="Jumlah Coin">
  <button onclick="topup()">Kirim</button>
</div>

<div class="panel">
  <h3>Upgrade Pet Level</h3>
  <input id="lvlUser" placeholder="User target">
  <input id="newLevel" type="number" placeholder="Level (‚â§1000)">
  <button onclick="upgrade()">Set Level</button>
</div>

<div class="panel">
  <button onclick="goTo('index.html')">Home</button>
</div>

<script>
  const players = JSON.parse(localStorage.getItem('players')||'{}');
  function goTo(p){ location.href=p }
  function save(){ localStorage.setItem('players', JSON.stringify(players)) }

  function topup(){
    const u = (document.getElementById('topupUser').value||'').trim().toLowerCase();
    const a = parseInt((document.getElementById('topupAmt').value||'').toString(),10);
    if(!players[u]) return alert('User tidak ditemukan');
    players[u].coins = (players[u].coins||0) + a;
    save(); alert(`Top-up ${a} coin ke ${u}`);
  }

  function upgrade(){
    const u = (document.getElementById('lvlUser').value||'').trim().toLowerCase();
    const lv = parseInt((document.getElementById('newLevel').value||'').toString(),10);
    if(!players[u]) return alert('User tidak ditemukan');
    if(lv > 1000) return alert('Max level 1000');
    players[u].pet = players[u].pet || {name:'Chick',level:1,health:1000,maxHealth:1000};
    players[u].pet.level = lv;
    save(); alert(`Level ${u} diseting ke ${lv}`);
  }
</script>
</body>
</html>
