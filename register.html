<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Register â€” Tamagotchi</title>
<style>
body{background:#0b1220;color:#fff;font-family:system-ui,Arial;text-align:center;padding-top:40px}
.panel{background:#101a2b;padding:18px;border-radius:10px;display:inline-block}
input,button{padding:10px;margin:6px;border-radius:8px;border:0}
button{background:#10b981;color:#042018;font-weight:700;cursor:pointer}
.small{font-size:13px;color:#9fb3b5}
</style>
</head>
<body>
  <div class="panel">
    <h2>ğŸ“ Register (username)</h2>
    <input id="username" placeholder="Username (ID)" /><br/>
    <input id="password" type="password" placeholder="Password" /><br/>
    <button id="regBtn">Daftar</button>
    <div class="small">Sudah punya akun? <a href="login.html">Login</a></div>
    <div id="msg" class="small"></div>
  </div>

<script>
document.getElementById('regBtn').addEventListener('click', ()=> {
  const raw = document.getElementById('username').value || '';
  const username = raw.toString().trim().toLowerCase();
  const password = (document.getElementById('password').value || '').toString();
  if(!username || !password){ alert('Isi username & password'); return; }
  const players = JSON.parse(localStorage.getItem('players')||'{}');
  if(players[username]){ alert('Username sudah dipakai â€” pilih yang lain'); return; }
  players[username] = {
    username,
    password,
    coins: 1000,
    pet: { name: 'Chick', level: 1 },
    inventory: [],
    health: 1000
  };
  localStorage.setItem('players', JSON.stringify(players));
  document.getElementById('msg').textContent = 'Registrasi berhasil â€” silakan login';
  setTimeout(()=> location.href = 'login.html', 900);
});
</script>
</body>
</html>
