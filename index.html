<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tamagotchi Pixel++ Ekspresi</title>
<style>
    body {
        background: linear-gradient(135deg, #89cff0, #ffffff);
        font-family: 'Press Start 2P', cursive;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
        text-align: center;
    }
    h1 {
        color: #333;
        font-size: 22px;
        margin-bottom: 10px;
    }
    .pet-container {
        position: relative;
        width: 180px;
        height: 180px;
        background: #fefefe;
        border: 6px solid #333;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }
    .pet-wrapper {
        animation: idle 3s infinite;
        position: relative;
    }
    .pet-base {
        width: 96px;
        height: 96px;
        image-rendering: pixelated;
        background-size: cover;
    }
    @keyframes idle {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-4px); }
    }
    .stats {
        margin-top: 10px;
        font-size: 14px;
    }
    .buttons {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }
    button {
        font-size: 12px;
        padding: 8px 12px;
        background: #333;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.3s;
    }
    button:hover {
        background: #555;
    }
</style>
</head>
<body>
    <h1>Tamagotchi Pixel++</h1>
    <div class="pet-container">
        <div class="pet-wrapper">
            <div class="pet-base" id="pet"></div>
        </div>
    </div>
    <div class="stats" id="stats">‚ù§Ô∏è: 100 | üçñ: 100 | üôÇ</div>
    <div class="buttons">
        <button onclick="feed()">Beri Makan</button>
        <button onclick="play()">Main</button>
        <button onclick="sleep()">Tidur</button>
    </div>

<script>
const pet = document.getElementById("pet");
const stats = document.getElementById("stats");

// Sprite URL (bisa diganti dengan gambar custom)
const sprites = {
    happy: "https://i.ibb.co/9qHLr7z/pet-happy.png",
    sad: "https://i.ibb.co/rcX3xw8/pet-hungry.png",
    sick: "https://i.ibb.co/pdh8JMy/pet-sick.png",
    angry: "https://i.ibb.co/gvH5xn7/pet-angry.png",
    sleep: "https://i.ibb.co/jWkpR2w/pet-sleep.png"
};

let data = JSON.parse(localStorage.getItem("tamagotchi")) || {
    health: 100,
    hunger: 100,
    sleeping: false
};

function updatePet() {
    let emoji = "üôÇ";
    if (data.sleeping) {
        pet.style.backgroundImage = `url('${sprites.sleep}')`;
        emoji = "üí§";
    } else if (data.hunger < 20 && data.health < 20) {
        pet.style.backgroundImage = `url('${sprites.angry}')`;
        emoji = "üò°";
    } else if (data.hunger < 40) {
        pet.style.backgroundImage = `url('${sprites.sad}')`;
        emoji = "üò¢";
    } else if (data.health < 40) {
        pet.style.backgroundImage = `url('${sprites.sick}')`;
        emoji = "ü§¢";
    } else {
        pet.style.backgroundImage = `url('${sprites.happy}')`;
        emoji = "üòä";
    }

    stats.textContent = `‚ù§Ô∏è: ${data.health} | üçñ: ${data.hunger} | ${emoji}`;
    localStorage.setItem("tamagotchi", JSON.stringify(data));
}

function feed() {
    if (!data.sleeping) {
        data.hunger = Math.min(100, data.hunger + 20);
    }
    updatePet();
}

function play() {
    if (!data.sleeping) {
        data.health = Math.min(100, data.health + 10);
        data.hunger = Math.max(0, data.hunger - 5);
    }
    updatePet();
}

function sleep() {
    data.sleeping = !data.sleeping;
    updatePet();
}

// Penurunan otomatis
setInterval(() => {
    if (!data.sleeping) {
        data.hunger = Math.max(0, data.hunger - 1);
        data.health = Math.max(0, data.health - (data.hunger === 0 ? 2 : 0));
    }
    updatePet();
}, 3000);

updatePet();
</script>
</body>
</html>
