<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Login ‚Äî Tamagotchi</title>
<style>
body{background:#0b1220;color:#fff;font-family:system-ui,Arial;text-align:center;padding-top:40px}
.panel{background:#101a2b;padding:18px;border-radius:10px;display:inline-block}
input,button{padding:10px;margin:6px;border-radius:8px;border:0}
button{background:#10b981;color:#042018;font-weight:700;cursor:pointer}
.small{font-size:13px;color:#9fb3b5}
</style>
</head>
<body>
  <div class="panel">
    <h2>üîê Login (username)</h2>
    <input id="username" placeholder="Username (ID)" /><br/>
    <input id="password" type="password" placeholder="Password" /><br/>
    <button id="loginBtn">Login</button>
    <div class="small">Belum punya akun? <a href="register.html">Daftar</a></div>
    <div id="msg" class="small"></div>
  </div>

<script>
document.getElementById('loginBtn').addEventListener('click', ()=> {
  const raw = document.getElementById('username').value || '';
  const username = raw.toString().trim().toLowerCase();
  const password = (document.getElementById('password').value || '').toString();
  if(!username || !password){ alert('Isi username & password'); return; }
  const players = JSON.parse(localStorage.getItem('players')||'{}');
  const user = players[username];
  if(!user || user.password !== password){
    // helpful debug info (remove in production)
    console.log('login attempt', {username, password});
    console.log('players keys:', Object.keys(players));
    alert('Username atau password salah');
    return;
  }
  // success
  localStorage.setItem('currentPlayer', username);
  location.href = 'index.html';
});
</script>
</body>
</html>
