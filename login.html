<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Tamagotchi</title>
<style>
body { background:#0b1220; color:#fff; font-family:sans-serif; text-align:center; padding:40px; }
input, button { padding:10px; margin:5px; border-radius:6px; }
button { background:#10b981; color:#fff; border:none; font-weight:bold; cursor:pointer; }
</style>
</head>
<body>
<h1>üê£ Tamagotchi Login</h1>
<input id="username" placeholder="Username"><br>
<input id="password" type="password" placeholder="Password"><br>
<button onclick="login()">Login / Register</button>

<script>
let players = JSON.parse(localStorage.getItem("players")||"{}");
let session = JSON.parse(localStorage.getItem("session")||"{}");

if(session.currentUser){ location.href="menu.html"; }

function login(){
  let u=document.getElementById("username").value.trim();
  let p=document.getElementById("password").value.trim();
  if(!u||!p) return alert("Isi username dan password");

  if(!players[u]){ 
    players[u]={ password:p, coins:1000, pet:{ level:1, health:1000,hunger:100,energy:100,alive:true}, inventory:[] };
  } else {
    if(players[u].password!==p) return alert("Password salah!");
  }
  localStorage.setItem("players",JSON.stringify(players));
  localStorage.setItem("session",JSON.stringify({currentUser:u}));
  location.href="menu.html";
}
</script>
</body>
</html>
